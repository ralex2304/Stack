\doxysection{src/stack.h File Reference}
\hypertarget{stack_8h}{}\label{stack_8h}\index{src/stack.h@{src/stack.h}}
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$malloc.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include \"{}config.\+h\"{}}\newline
{\ttfamily \#include \"{}utils/console.\+h\"{}}\newline
{\ttfamily \#include \"{}utils/macros.\+h\"{}}\newline
{\ttfamily \#include \"{}checksum/hash.\+h\"{}}\newline
{\ttfamily \#include \"{}log/log.\+h\"{}}\newline
{\ttfamily \#include \"{}utils/linux\+\_\+mem.\+h\"{}}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_stack}{Stack}}
\begin{DoxyCompactList}\small\item\em \doxylink{struct_stack}{Stack} data struct. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{stack_8h_a77d5f30dcde5dbd333d45dc0958348d7}{STK\+\_\+\+CTOR}}(stk)~\mbox{\hyperlink{stack_8cpp_ae77dc1db2b6e8ea409db63167b641afa}{stk\+\_\+ctor\+\_\+debug}}(stk, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+, \+\_\+\+\_\+func\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em stk\+\_\+ctor\+\_\+debug macros \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{stack_8h_af52f302590a00f9e30f71a93a1b83b81}{STK\+\_\+\+CTOR\+\_\+\+CAP}}(stk,  capacity)~\mbox{\hyperlink{stack_8cpp_ae77dc1db2b6e8ea409db63167b641afa}{stk\+\_\+ctor\+\_\+debug}}(stk, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+, \+\_\+\+\_\+func\+\_\+\+\_\+, capacity)
\begin{DoxyCompactList}\small\item\em stk\+\_\+ctor\+\_\+debug macros with capacity \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}{STK\+\_\+\+VERIFY}}(stk)~\mbox{\hyperlink{stack_8cpp_aa5801fe77f92f99b324b972ee22ed326}{stk\+\_\+verify}}(stk)
\begin{DoxyCompactList}\small\item\em \doxylink{stack_8h_aa5801fe77f92f99b324b972ee22ed326}{stk\+\_\+verify()} enables in DEBUG mode \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\+\_\+\+OK}}(stk,  res)
\begin{DoxyCompactList}\small\item\em calls \doxylink{stack_8h_a1b7caf431e78e8fc61a308f2898feafe}{stk\+\_\+print\+\_\+error()} and \doxylink{stack_8h_a8ee2f82704b56dfa7a24d2b44becebd4}{STK\+\_\+\+DUMP()} if stack is not OK \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{stack_8h_a8ee2f82704b56dfa7a24d2b44becebd4}{STK\+\_\+\+DUMP}}(stk)~\mbox{\hyperlink{stack_8cpp_a68851ac5731acdc015c8200d2c7192d9}{stk\+\_\+dump}}(stk, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+, \+\_\+\+\_\+func\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em stk\+\_\+dump macros \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{stack_8h_a8a832365fba30ca3aee76b5cdf91047c}{stk\+\_\+ctor}} (\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}stk, const ssize\+\_\+t init\+\_\+capacity=\mbox{\hyperlink{struct_stack_a873889fbf0b397d1b5be02d19bef2b41}{Stack\+::\+INIT\+\_\+\+CAPACITY}})
\begin{DoxyCompactList}\small\item\em \doxylink{struct_stack}{Stack} constructor. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{stack_8h_aa30787d931ba7ff16b8aa1ddfa7337d3}{stk\+\_\+push}} (\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}stk, const \mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\+\_\+t}} elem)
\begin{DoxyCompactList}\small\item\em Pushes elem to stack. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{stack_8h_a8a9034ca7b569e78083db61cefdafbff}{stk\+\_\+pop}} (\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}stk, \mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\+\_\+t}} \texorpdfstring{$\ast$}{*}const res)
\begin{DoxyCompactList}\small\item\em Pops elem from stack. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{stack_8h_a644b9030cb1c4f62fd11cdac43104e35}{stk\+\_\+resize}} (\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}stk, ssize\+\_\+t new\+\_\+size)
\begin{DoxyCompactList}\small\item\em Resizes stack. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{stack_8h_a1b7caf431e78e8fc61a308f2898feafe}{stk\+\_\+print\+\_\+error}} (const int err\+\_\+code)
\begin{DoxyCompactList}\small\item\em Prints errors to log file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{stack_8h_a60863cc39088870cab1ccd33d1e8d2f6}{stk\+\_\+dtor}} (\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}stk)
\begin{DoxyCompactList}\small\item\em \doxylink{struct_stack}{Stack} destructor. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{stack_8h_a2310ef48d9289e24152b831b713a7eb7}{stk\+\_\+ctor\+\_\+debug}} (\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}stk, const char \texorpdfstring{$\ast$}{*}file, const int line, const char \texorpdfstring{$\ast$}{*}func, const ssize\+\_\+t init\+\_\+capacity=\mbox{\hyperlink{struct_stack_a873889fbf0b397d1b5be02d19bef2b41}{Stack\+::\+INIT\+\_\+\+CAPACITY}})
\begin{DoxyCompactList}\small\item\em \doxylink{struct_stack}{Stack} constructor in debug mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{stack_8h_a68851ac5731acdc015c8200d2c7192d9}{stk\+\_\+dump}} (const \mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}stk, const char \texorpdfstring{$\ast$}{*}file, const int line, const char \texorpdfstring{$\ast$}{*}func)
\begin{DoxyCompactList}\small\item\em Dumps all stack data to log. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{stack_8h_aa5801fe77f92f99b324b972ee22ed326}{stk\+\_\+verify}} (\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}stk)
\begin{DoxyCompactList}\small\item\em Verifies stack. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{stack_8h_a77d5f30dcde5dbd333d45dc0958348d7}\label{stack_8h_a77d5f30dcde5dbd333d45dc0958348d7} 
\index{stack.h@{stack.h}!STK\_CTOR@{STK\_CTOR}}
\index{STK\_CTOR@{STK\_CTOR}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{STK\_CTOR}{STK\_CTOR}}
{\footnotesize\ttfamily \#define STK\+\_\+\+CTOR(\begin{DoxyParamCaption}\item[{}]{stk }\end{DoxyParamCaption})~\mbox{\hyperlink{stack_8cpp_ae77dc1db2b6e8ea409db63167b641afa}{stk\+\_\+ctor\+\_\+debug}}(stk, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+, \+\_\+\+\_\+func\+\_\+\+\_\+)}



stk\+\_\+ctor\+\_\+debug macros 



Definition at line \mbox{\hyperlink{stack_8h_source_l00149}{149}} of file \mbox{\hyperlink{stack_8h_source}{stack.\+h}}.

\Hypertarget{stack_8h_af52f302590a00f9e30f71a93a1b83b81}\label{stack_8h_af52f302590a00f9e30f71a93a1b83b81} 
\index{stack.h@{stack.h}!STK\_CTOR\_CAP@{STK\_CTOR\_CAP}}
\index{STK\_CTOR\_CAP@{STK\_CTOR\_CAP}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{STK\_CTOR\_CAP}{STK\_CTOR\_CAP}}
{\footnotesize\ttfamily \#define STK\+\_\+\+CTOR\+\_\+\+CAP(\begin{DoxyParamCaption}\item[{}]{stk,  }\item[{}]{capacity }\end{DoxyParamCaption})~\mbox{\hyperlink{stack_8cpp_ae77dc1db2b6e8ea409db63167b641afa}{stk\+\_\+ctor\+\_\+debug}}(stk, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+, \+\_\+\+\_\+func\+\_\+\+\_\+, capacity)}



stk\+\_\+ctor\+\_\+debug macros with capacity 



Definition at line \mbox{\hyperlink{stack_8h_source_l00154}{154}} of file \mbox{\hyperlink{stack_8h_source}{stack.\+h}}.

\Hypertarget{stack_8h_a8ee2f82704b56dfa7a24d2b44becebd4}\label{stack_8h_a8ee2f82704b56dfa7a24d2b44becebd4} 
\index{stack.h@{stack.h}!STK\_DUMP@{STK\_DUMP}}
\index{STK\_DUMP@{STK\_DUMP}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{STK\_DUMP}{STK\_DUMP}}
{\footnotesize\ttfamily \#define STK\+\_\+\+DUMP(\begin{DoxyParamCaption}\item[{}]{stk }\end{DoxyParamCaption})~\mbox{\hyperlink{stack_8cpp_a68851ac5731acdc015c8200d2c7192d9}{stk\+\_\+dump}}(stk, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+, \+\_\+\+\_\+func\+\_\+\+\_\+)}



stk\+\_\+dump macros 



Definition at line \mbox{\hyperlink{stack_8h_source_l00174}{174}} of file \mbox{\hyperlink{stack_8h_source}{stack.\+h}}.

\Hypertarget{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}\label{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b} 
\index{stack.h@{stack.h}!STK\_OK@{STK\_OK}}
\index{STK\_OK@{STK\_OK}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{STK\_OK}{STK\_OK}}
{\footnotesize\ttfamily \#define STK\+\_\+\+OK(\begin{DoxyParamCaption}\item[{}]{stk,  }\item[{}]{res }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (res\ !=\ stk-\/>OK)\ \{\ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stk\_print\_error(res);\ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ STK\_DUMP(stk);\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (0)}

\end{DoxyCode}


calls \doxylink{stack_8h_a1b7caf431e78e8fc61a308f2898feafe}{stk\+\_\+print\+\_\+error()} and \doxylink{stack_8h_a8ee2f82704b56dfa7a24d2b44becebd4}{STK\+\_\+\+DUMP()} if stack is not OK 



Definition at line \mbox{\hyperlink{stack_8h_source_l00164}{164}} of file \mbox{\hyperlink{stack_8h_source}{stack.\+h}}.

\Hypertarget{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}\label{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6} 
\index{stack.h@{stack.h}!STK\_VERIFY@{STK\_VERIFY}}
\index{STK\_VERIFY@{STK\_VERIFY}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{STK\_VERIFY}{STK\_VERIFY}}
{\footnotesize\ttfamily \#define STK\+\_\+\+VERIFY(\begin{DoxyParamCaption}\item[{}]{stk }\end{DoxyParamCaption})~\mbox{\hyperlink{stack_8cpp_aa5801fe77f92f99b324b972ee22ed326}{stk\+\_\+verify}}(stk)}



\doxylink{stack_8h_aa5801fe77f92f99b324b972ee22ed326}{stk\+\_\+verify()} enables in DEBUG mode 



Definition at line \mbox{\hyperlink{stack_8h_source_l00159}{159}} of file \mbox{\hyperlink{stack_8h_source}{stack.\+h}}.



\doxysubsection{Function Documentation}
\Hypertarget{stack_8h_a8a832365fba30ca3aee76b5cdf91047c}\label{stack_8h_a8a832365fba30ca3aee76b5cdf91047c} 
\index{stack.h@{stack.h}!stk\_ctor@{stk\_ctor}}
\index{stk\_ctor@{stk\_ctor}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{stk\_ctor()}{stk\_ctor()}}
{\footnotesize\ttfamily int stk\+\_\+ctor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}}]{stk,  }\item[{const ssize\+\_\+t}]{init\+\_\+capacity = {\ttfamily \mbox{\hyperlink{struct_stack_a873889fbf0b397d1b5be02d19bef2b41}{Stack\+::\+INIT\+\_\+\+CAPACITY}}} }\end{DoxyParamCaption})}



\doxylink{struct_stack}{Stack} constructor. 


\begin{DoxyParams}{Parameters}
{\em stk} & \\
\hline
{\em init\+\_\+capacity} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{stack_8cpp_source_l00034}{34}} of file \mbox{\hyperlink{stack_8cpp_source}{stack.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00035\ \ \ \ \ assert(stk);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{int}\ res\ =\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a146633a2ef2a9bbb1c05ec4cd31ba019}{OK}};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#ifdef\ DEBUG}}
\DoxyCodeLine{00040\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ =\ (\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}*)calloc(init\_capacity\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}})\ +\ 2\ *\ \textcolor{keyword}{sizeof}(CANARY\_VAL),\ 1);}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00042\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ =\ (\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}*)calloc(init\_capacity,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}));}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a8e610fdd9bd4faa7ad35a6058ad9fcbf}{ALLOC\_ERR}};}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00049\ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}\ =\ init\_capacity;}
\DoxyCodeLine{00052\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}}\ =\ 0;}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00055\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{stack_8h_source_l00037}{Stack\+::\+ALLOC\+\_\+\+ERR}}, \mbox{\hyperlink{stack_8h_source_l00029}{Stack\+::capacity}}, \mbox{\hyperlink{stack_8h_source_l00028}{Stack\+::data}}, \mbox{\hyperlink{stack_8h_source_l00035}{Stack\+::\+OK}}, \mbox{\hyperlink{stack_8h_source_l00030}{Stack\+::size}}, and \mbox{\hyperlink{stack_8h_source_l00164}{STK\+\_\+\+OK}}.



Referenced by \mbox{\hyperlink{stack_8cpp_source_l00006}{stk\+\_\+ctor\+\_\+debug()}}.

\Hypertarget{stack_8h_a2310ef48d9289e24152b831b713a7eb7}\label{stack_8h_a2310ef48d9289e24152b831b713a7eb7} 
\index{stack.h@{stack.h}!stk\_ctor\_debug@{stk\_ctor\_debug}}
\index{stk\_ctor\_debug@{stk\_ctor\_debug}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{stk\_ctor\_debug()}{stk\_ctor\_debug()}}
{\footnotesize\ttfamily int stk\+\_\+ctor\+\_\+debug (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}}]{stk,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{file,  }\item[{const int}]{line,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{func,  }\item[{const ssize\+\_\+t}]{init\+\_\+capacity = {\ttfamily \mbox{\hyperlink{struct_stack_a873889fbf0b397d1b5be02d19bef2b41}{Stack\+::\+INIT\+\_\+\+CAPACITY}}} }\end{DoxyParamCaption})}



\doxylink{struct_stack}{Stack} constructor in debug mode. 


\begin{DoxyParams}{Parameters}
{\em stk} & \\
\hline
{\em file} & initialising place \\
\hline
{\em line} & initialising place \\
\hline
{\em func} & initialising place \\
\hline
{\em init\+\_\+capacity} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{stack_8cpp_source_l00006}{6}} of file \mbox{\hyperlink{stack_8cpp_source}{stack.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00008\ \ \ \ \ assert(stk);}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a6566913dd7e46a9de98b4fae96ef1b22}{init\_file}}\ =\ file;}
\DoxyCodeLine{00011\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a98ddb9b9cce48e4dca81d6cf852c5905}{init\_line}}\ =\ line;}
\DoxyCodeLine{00012\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_ab234bfceb8dc921e91dbf8d9776ecc04}{init\_func}}\ =\ func;}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keywordtype}{int}\ res\ =\ \mbox{\hyperlink{stack_8cpp_acebf747ea274a34941598f3f39c61b1f}{stk\_ctor}}(stk);}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ =\ (\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}*)(((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}*)stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}})\ +\ 1);}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \ \ memcpy((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}*)stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ -\/\ 1,\ \&CANARY\_VAL,\ \textcolor{keyword}{sizeof}(CANARY\_VAL));}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ \ \ memcpy((\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}*)stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ +\ init\_capacity,\ \&CANARY\_VAL,\ \textcolor{keyword}{sizeof}(CANARY\_VAL));}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordflow}{for}\ (ssize\_t\ i\ =\ 0;\ i\ <\ init\_capacity;\ i++)}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[i]\ =\ stk-\/>\mbox{\hyperlink{struct_stack_a48bbbcc55325f72dcbe2414dd9598a30}{POISON}};}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_afb254e7cd7f3e17f483ef2866cc5b922}{checksum}}\ =\ \mbox{\hyperlink{hash_8cpp_af75afb4cf5b5d49cc48faec462d3fb8f}{hash\_init}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}));}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ res\ |=\ \mbox{\hyperlink{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}{STK\_VERIFY}}(stk);}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00031\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{stack_8h_source_l00032}{Stack\+::checksum}}, \mbox{\hyperlink{stack_8h_source_l00028}{Stack\+::data}}, \mbox{\hyperlink{hash_8cpp_source_l00003}{hash\+\_\+init()}}, \mbox{\hyperlink{stack_8h_source_l00054}{Stack\+::init\+\_\+file}}, \mbox{\hyperlink{stack_8h_source_l00056}{Stack\+::init\+\_\+func}}, \mbox{\hyperlink{stack_8h_source_l00055}{Stack\+::init\+\_\+line}}, \mbox{\hyperlink{stack_8h_source_l00021}{Stack\+::\+POISON}}, \mbox{\hyperlink{stack_8cpp_source_l00034}{stk\+\_\+ctor()}}, \mbox{\hyperlink{stack_8h_source_l00164}{STK\+\_\+\+OK}}, and \mbox{\hyperlink{stack_8h_source_l00159}{STK\+\_\+\+VERIFY}}.

\Hypertarget{stack_8h_a60863cc39088870cab1ccd33d1e8d2f6}\label{stack_8h_a60863cc39088870cab1ccd33d1e8d2f6} 
\index{stack.h@{stack.h}!stk\_dtor@{stk\_dtor}}
\index{stk\_dtor@{stk\_dtor}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{stk\_dtor()}{stk\_dtor()}}
{\footnotesize\ttfamily int stk\+\_\+dtor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}}]{stk }\end{DoxyParamCaption})}



\doxylink{struct_stack}{Stack} destructor. 


\begin{DoxyParams}{Parameters}
{\em stk} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{stack_8cpp_source_l00057}{57}} of file \mbox{\hyperlink{stack_8cpp_source}{stack.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00058\ \ \ \ \ assert(stk);}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{int}\ res\ =\ \mbox{\hyperlink{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}{STK\_VERIFY}}(stk);}
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{for}\ (ssize\_t\ i\ =\ 0;\ i\ <\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}};\ i++)}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[i]\ =\ stk-\/>\mbox{\hyperlink{struct_stack_a48bbbcc55325f72dcbe2414dd9598a30}{POISON}};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#ifdef\ DEBUG}}
\DoxyCodeLine{00067\ \ \ \ \ free((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}*)stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ -\/\ 1);}
\DoxyCodeLine{00068\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{macros_8h_a105949c59c998e38aad80266afac92bf}{FREE}}(stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}});}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}\ =\ stk-\/>\mbox{\hyperlink{struct_stack_aa50c905a38095756b153a80c4e974ee2}{UNITIALISED\_CAPACITY}};}
\DoxyCodeLine{00074\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}}\ \ \ \ \ =\ stk-\/>\mbox{\hyperlink{struct_stack_aa50c905a38095756b153a80c4e974ee2}{UNITIALISED\_CAPACITY}};}
\DoxyCodeLine{00075\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_afb254e7cd7f3e17f483ef2866cc5b922}{checksum}}\ =\ \{\};}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00078\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{stack_8h_source_l00029}{Stack\+::capacity}}, \mbox{\hyperlink{stack_8h_source_l00032}{Stack\+::checksum}}, \mbox{\hyperlink{stack_8h_source_l00028}{Stack\+::data}}, \mbox{\hyperlink{macros_8h_source_l00010}{FREE}}, \mbox{\hyperlink{stack_8h_source_l00021}{Stack\+::\+POISON}}, \mbox{\hyperlink{stack_8h_source_l00030}{Stack\+::size}}, \mbox{\hyperlink{stack_8h_source_l00164}{STK\+\_\+\+OK}}, \mbox{\hyperlink{stack_8h_source_l00159}{STK\+\_\+\+VERIFY}}, and \mbox{\hyperlink{stack_8h_source_l00022}{Stack\+::\+UNITIALISED\+\_\+\+CAPACITY}}.



Referenced by \mbox{\hyperlink{test_8cpp_source_l00047}{test\+\_\+stack\+\_\+error()}}, and \mbox{\hyperlink{test_8cpp_source_l00003}{test\+\_\+stack\+\_\+normal()}}.

\Hypertarget{stack_8h_a68851ac5731acdc015c8200d2c7192d9}\label{stack_8h_a68851ac5731acdc015c8200d2c7192d9} 
\index{stack.h@{stack.h}!stk\_dump@{stk\_dump}}
\index{stk\_dump@{stk\_dump}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{stk\_dump()}{stk\_dump()}}
{\footnotesize\ttfamily void stk\+\_\+dump (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}}]{stk,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{file,  }\item[{const int}]{line,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{func }\end{DoxyParamCaption})}



Dumps all stack data to log. 


\begin{DoxyParams}{Parameters}
{\em stk} & \\
\hline
{\em file} & {\bfseries{FILE}} \\
\hline
{\em line} & {\bfseries{LINE}} \\
\hline
{\em func} & {\bfseries{func}} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{stack_8cpp_source_l00226}{226}} of file \mbox{\hyperlink{stack_8cpp_source}{stack.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00227\ \ \ \ \ assert(stk);}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}\ \ \ \ stk\_dump()\ called\ from\ \%s:\%d\ \%s\(\backslash\)n"{}}}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ stack[\%p]\ initialised\ in\ \%s:\%d\ \%s\ \(\backslash\)n"{}},}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ file,\ line,\ func,\ stk,\ stk-\/>\mbox{\hyperlink{struct_stack_a6566913dd7e46a9de98b4fae96ef1b22}{init\_file}},\ stk-\/>\mbox{\hyperlink{struct_stack_a98ddb9b9cce48e4dca81d6cf852c5905}{init\_line}},\ stk-\/>\mbox{\hyperlink{struct_stack_ab234bfceb8dc921e91dbf8d9776ecc04}{init\_func}});}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}\ \ \ \ \{\(\backslash\)n"{}}}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ L\_canary\ =\ 0x\%llx\(\backslash\)n"{}}}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ size\ \ \ \ \ =\ \%zd\(\backslash\)n"{}}}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ capacity\ =\ \%zd\(\backslash\)n"{}}}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ checksum\ =\ 0x\%llx\(\backslash\)n"{}}}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ data[\%p]\ \{\(\backslash\)n"{}},\ stk-\/>\mbox{\hyperlink{struct_stack_a28842fa31d7aec7f839fbcd51ef3edfe}{canary\_left}},\ stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}},\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}},}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_afb254e7cd7f3e17f483ef2866cc5b922}{checksum}}.\mbox{\hyperlink{struct_hash_a991c35ac9a3e92fb13a5ee7b1dbfd244}{hash}},\ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}});}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{linux__mem_8cpp_a8b27c8c3ef75b12ce64ed810ab614d33}{is\_ptr\_valid}}(stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}))}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ \ \ \ \ L\_canary\ =\ 0x\%llx\(\backslash\)n"{}},\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}*)stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}})[-\/1]);}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordtype}{int}\ index\_len\ =\ 1;}
\DoxyCodeLine{00245\ \ \ \ \ ssize\_t\ index\ =\ \mbox{\hyperlink{macros_8h_afa99ec4acc4ecb2dc3c2d05da15d0e3f}{MAX}}(stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}},\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}});}
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{keywordflow}{while}\ ((index\ /=\ 10)\ >\ 0)}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ index\_len++;}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordflow}{for}\ (ssize\_t\ i\ =\ 0;\ i\ <\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}};\ i++)\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ <\ stk-\/>size)}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ \ \ \ \ *"{}});}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ \ \ \ \ \ "{}});}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}[\%*zu]\ "{}},\ index\_len,\ i);}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[i]\ ==\ stk-\/>\mbox{\hyperlink{struct_stack_a48bbbcc55325f72dcbe2414dd9598a30}{POISON}})}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}(poison)\(\backslash\)n"{}});}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \mbox{\hyperlink{config_8h_a0e86e404fb41df2a06346b0fd53ccb83}{ELEM\_T\_PRINTF}}\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}},\ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[i]);}
\DoxyCodeLine{00260\ \ \ \ \ \}}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{linux__mem_8cpp_a8b27c8c3ef75b12ce64ed810ab614d33}{is\_ptr\_valid}}(stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}))}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ \ \ \ \ R\_canary\ =\ 0x\%llx\(\backslash\)n"{}},}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ *)(stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ +\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}})));}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ \}\(\backslash\)n"{}}}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ R\_canary\ =\ 0x\%llx\(\backslash\)n"{}}}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ \}\(\backslash\)n"{}},\ stk-\/>\mbox{\hyperlink{struct_stack_af8349cc517cbeee8fc2a0177f17d5109}{canary\_right}});}
\DoxyCodeLine{00268\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{stack_8h_source_l00025}{Stack\+::canary\+\_\+left}}, \mbox{\hyperlink{stack_8h_source_l00058}{Stack\+::canary\+\_\+right}}, \mbox{\hyperlink{stack_8h_source_l00029}{Stack\+::capacity}}, \mbox{\hyperlink{stack_8h_source_l00032}{Stack\+::checksum}}, \mbox{\hyperlink{stack_8h_source_l00028}{Stack\+::data}}, \mbox{\hyperlink{config_8h_source_l00009}{ELEM\+\_\+\+T\+\_\+\+PRINTF}}, \mbox{\hyperlink{hash_8h_source_l00015}{Hash\+::hash}}, \mbox{\hyperlink{stack_8h_source_l00054}{Stack\+::init\+\_\+file}}, \mbox{\hyperlink{stack_8h_source_l00056}{Stack\+::init\+\_\+func}}, \mbox{\hyperlink{stack_8h_source_l00055}{Stack\+::init\+\_\+line}}, \mbox{\hyperlink{linux__mem_8cpp_source_l00003}{is\+\_\+ptr\+\_\+valid()}}, \mbox{\hyperlink{main_8cpp_source_l00004}{log\+\_\+file}}, \mbox{\hyperlink{log_8cpp_source_l00003}{log\+\_\+printf()}}, \mbox{\hyperlink{macros_8h_source_l00008}{MAX}}, \mbox{\hyperlink{stack_8h_source_l00021}{Stack\+::\+POISON}}, and \mbox{\hyperlink{stack_8h_source_l00030}{Stack\+::size}}.

\Hypertarget{stack_8h_a8a9034ca7b569e78083db61cefdafbff}\label{stack_8h_a8a9034ca7b569e78083db61cefdafbff} 
\index{stack.h@{stack.h}!stk\_pop@{stk\_pop}}
\index{stk\_pop@{stk\_pop}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{stk\_pop()}{stk\_pop()}}
{\footnotesize\ttfamily int stk\+\_\+pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}}]{stk,  }\item[{\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\+\_\+t}} \texorpdfstring{$\ast$}{*}const}]{res }\end{DoxyParamCaption})}



Pops elem from stack. 


\begin{DoxyParams}{Parameters}
{\em stk} & \\
\hline
{\em res} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{stack_8cpp_source_l00150}{150}} of file \mbox{\hyperlink{stack_8cpp_source}{stack.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00151\ \ \ \ \ assert(stk);}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keywordtype}{int}\ res\ =\ \mbox{\hyperlink{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}{STK\_VERIFY}}(stk);}
\DoxyCodeLine{00154\ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordflow}{if}\ (res\ !=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a146633a2ef2a9bbb1c05ec4cd31ba019}{OK}})}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}}\ <=\ 0)\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a21fffebce3cb1827d31bfb5bc44dfca8}{NOTHING\_TO\_POP}};}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00163\ \ \ \ \ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ *elem\ =\ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[-\/-\/stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}}];}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \mbox{\hyperlink{hash_8cpp_a04ea4d8f18562b872872470176e6de83}{hash\_create}}(\&stk-\/>\mbox{\hyperlink{struct_stack_afb254e7cd7f3e17f483ef2866cc5b922}{checksum}},\ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}},\ stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}});}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}}]\ =\ stk-\/>\mbox{\hyperlink{struct_stack_a48bbbcc55325f72dcbe2414dd9598a30}{POISON}};}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \ \ res\ |=\ \mbox{\hyperlink{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}{STK\_VERIFY}}(stk);}
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00175\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{stack_8h_source_l00032}{Stack\+::checksum}}, \mbox{\hyperlink{stack_8h_source_l00028}{Stack\+::data}}, \mbox{\hyperlink{hash_8cpp_source_l00016}{hash\+\_\+create()}}, \mbox{\hyperlink{stack_8h_source_l00036}{Stack\+::\+NOTHING\+\_\+\+TO\+\_\+\+POP}}, \mbox{\hyperlink{stack_8h_source_l00035}{Stack\+::\+OK}}, \mbox{\hyperlink{stack_8h_source_l00021}{Stack\+::\+POISON}}, \mbox{\hyperlink{stack_8h_source_l00030}{Stack\+::size}}, \mbox{\hyperlink{stack_8h_source_l00164}{STK\+\_\+\+OK}}, and \mbox{\hyperlink{stack_8h_source_l00159}{STK\+\_\+\+VERIFY}}.



Referenced by \mbox{\hyperlink{test_8cpp_source_l00047}{test\+\_\+stack\+\_\+error()}}, and \mbox{\hyperlink{test_8cpp_source_l00003}{test\+\_\+stack\+\_\+normal()}}.

\Hypertarget{stack_8h_a1b7caf431e78e8fc61a308f2898feafe}\label{stack_8h_a1b7caf431e78e8fc61a308f2898feafe} 
\index{stack.h@{stack.h}!stk\_print\_error@{stk\_print\_error}}
\index{stk\_print\_error@{stk\_print\_error}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{stk\_print\_error()}{stk\_print\_error()}}
{\footnotesize\ttfamily void stk\+\_\+print\+\_\+error (\begin{DoxyParamCaption}\item[{const int}]{err\+\_\+code }\end{DoxyParamCaption})}



Prints errors to log file. 


\begin{DoxyParams}{Parameters}
{\em err\+\_\+code} & \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{stack_8cpp_source_l00177}{177}} of file \mbox{\hyperlink{stack_8cpp_source}{stack.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ ==\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a146633a2ef2a9bbb1c05ec4cd31ba019}{Stack::OK}})}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}No\ error\(\backslash\)n"{}});}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5ae1ec0912fd480f7fdd5f38f4e990ffed}{Stack::UNITIALISED}})}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Stack\ is\ not\ initialised\(\backslash\)n"{}});}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5ab37ce957889466c726330c2b5b513b4f}{Stack::DATA\_INVALID\_PTR}})}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ stk.data\ pointer\ is\ not\ valid\ for\ writing\(\backslash\)n"{}});}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a8e610fdd9bd4faa7ad35a6058ad9fcbf}{Stack::ALLOC\_ERR}})}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Can't\ allocate\ memory\(\backslash\)n"{}});}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a21fffebce3cb1827d31bfb5bc44dfca8}{Stack::NOTHING\_TO\_POP}})}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Program\ is\ trying\ to\ pop\ empty\ stack\(\backslash\)n"{}});}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5aa17ea00c21ef8ada8344e88a5d63a0de}{Stack::POISON\_VAL\_FOUND}})}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ There\ is\ poison\ value\ in\ stack\(\backslash\)n"{}});}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a9e1e940df37869517f75f4d2198aebad}{Stack::NON\_POISON\_EMPTY}})}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Empty\ element\ value\ is\ not\ poison\(\backslash\)n"{}});}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a850f5a4a8e8d806c4d727d7611a23830}{Stack::CHECKSUM\_ERR}})}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Stack\ was\ modified\ (wrong\ checksum)\(\backslash\)n"{}});}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a0a4d618cba92355bcf446359ec408e60}{Stack::LOW\_CAPACITY}})}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ stk.size\ >\ stk.capacity\(\backslash\)n"{}});}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5af68a03245ae05bdfca1879f027972e0c}{Stack::NEGATIVE\_CAPACITY}})}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Negative\ stk.capacity\(\backslash\)n"{}});}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5ad85f8db9f888d5f54791ec3dbe8dae1c}{Stack::NEGATIVE\_SIZE}})}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Negative\ stk.size\(\backslash\)n"{}});}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a7972d76b7f1e784ff89358e60e73f6c5}{Stack::STRUCT\_L\_CANARY\_ERR}})}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Left\ struct\ canary\ is\ corrupt\(\backslash\)n"{}});}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a8deedabd24b6f0684dbf7b7ee110bd21}{Stack::STRUCT\_R\_CANARY\_ERR}})}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Right\ struct\ canary\ is\ corrupt\(\backslash\)n"{}});}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a972d0ae4ce1c7527212f6e29d78df8fe}{Stack::DATA\_L\_CANARY\_ERR}})}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Left\ data\ canary\ is\ corrupt\(\backslash\)n"{}});}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ \&\ \mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a31325202b6e6bfa0cb1b1e0c0601bea5}{Stack::DATA\_R\_CANARY\_ERR}})}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8cpp_adab5e89ed01fa9fb9c55544d3a21629b}{log\_printf}}(\&\mbox{\hyperlink{stack_8cpp_a06336a68ce7f0258cc88d5a2bb94e4d3}{log\_file}},\ \textcolor{stringliteral}{"{}!!!\ Right\ data\ canary\ is\ corrupt\(\backslash\)n"{}});}
\DoxyCodeLine{00222\ \ \ \ \ \}}
\DoxyCodeLine{00223\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{stack_8h_source_l00037}{Stack\+::\+ALLOC\+\_\+\+ERR}}, \mbox{\hyperlink{stack_8h_source_l00043}{Stack\+::\+CHECKSUM\+\_\+\+ERR}}, \mbox{\hyperlink{stack_8h_source_l00040}{Stack\+::\+DATA\+\_\+\+INVALID\+\_\+\+PTR}}, \mbox{\hyperlink{stack_8h_source_l00049}{Stack\+::\+DATA\+\_\+\+L\+\_\+\+CANARY\+\_\+\+ERR}}, \mbox{\hyperlink{stack_8h_source_l00050}{Stack\+::\+DATA\+\_\+\+R\+\_\+\+CANARY\+\_\+\+ERR}}, \mbox{\hyperlink{main_8cpp_source_l00004}{log\+\_\+file}}, \mbox{\hyperlink{log_8cpp_source_l00003}{log\+\_\+printf()}}, \mbox{\hyperlink{stack_8h_source_l00044}{Stack\+::\+LOW\+\_\+\+CAPACITY}}, \mbox{\hyperlink{stack_8h_source_l00045}{Stack\+::\+NEGATIVE\+\_\+\+CAPACITY}}, \mbox{\hyperlink{stack_8h_source_l00046}{Stack\+::\+NEGATIVE\+\_\+\+SIZE}}, \mbox{\hyperlink{stack_8h_source_l00042}{Stack\+::\+NON\+\_\+\+POISON\+\_\+\+EMPTY}}, \mbox{\hyperlink{stack_8h_source_l00036}{Stack\+::\+NOTHING\+\_\+\+TO\+\_\+\+POP}}, \mbox{\hyperlink{stack_8h_source_l00035}{Stack\+::\+OK}}, \mbox{\hyperlink{stack_8h_source_l00041}{Stack\+::\+POISON\+\_\+\+VAL\+\_\+\+FOUND}}, \mbox{\hyperlink{stack_8h_source_l00047}{Stack\+::\+STRUCT\+\_\+\+L\+\_\+\+CANARY\+\_\+\+ERR}}, \mbox{\hyperlink{stack_8h_source_l00048}{Stack\+::\+STRUCT\+\_\+\+R\+\_\+\+CANARY\+\_\+\+ERR}}, and \mbox{\hyperlink{stack_8h_source_l00039}{Stack\+::\+UNITIALISED}}.

\Hypertarget{stack_8h_aa30787d931ba7ff16b8aa1ddfa7337d3}\label{stack_8h_aa30787d931ba7ff16b8aa1ddfa7337d3} 
\index{stack.h@{stack.h}!stk\_push@{stk\_push}}
\index{stk\_push@{stk\_push}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{stk\_push()}{stk\_push()}}
{\footnotesize\ttfamily int stk\+\_\+push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}}]{stk,  }\item[{const \mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\+\_\+t}}}]{elem }\end{DoxyParamCaption})}



Pushes elem to stack. 


\begin{DoxyParams}{Parameters}
{\em stk} & \\
\hline
{\em elem} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{stack_8cpp_source_l00125}{125}} of file \mbox{\hyperlink{stack_8cpp_source}{stack.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00126\ \ \ \ \ assert(stk);}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{int}\ res\ =\ \mbox{\hyperlink{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}{STK\_VERIFY}}(stk);}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordflow}{if}\ (res\ !=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a146633a2ef2a9bbb1c05ec4cd31ba019}{OK}})}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}}\ ==\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}})}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ res\ |=\ \mbox{\hyperlink{stack_8cpp_a98e256beef7b5e9fd5db8989473bebf9}{stk\_resize}}(stk,\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}\ *\ 2);}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordflow}{if}\ (res\ !=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a146633a2ef2a9bbb1c05ec4cd31ba019}{OK}})}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}}++]\ =\ elem;}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{hash_8cpp_aa778edd25e4eb9386b5a74c6697db90c}{hash\_push}}(\&stk-\/>\mbox{\hyperlink{struct_stack_afb254e7cd7f3e17f483ef2866cc5b922}{checksum}},\ \&elem);}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ res\ |=\ \mbox{\hyperlink{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}{STK\_VERIFY}}(stk);}
\DoxyCodeLine{00145\ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00148\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{stack_8h_source_l00029}{Stack\+::capacity}}, \mbox{\hyperlink{stack_8h_source_l00032}{Stack\+::checksum}}, \mbox{\hyperlink{stack_8h_source_l00028}{Stack\+::data}}, \mbox{\hyperlink{hash_8cpp_source_l00009}{hash\+\_\+push()}}, \mbox{\hyperlink{stack_8h_source_l00035}{Stack\+::\+OK}}, \mbox{\hyperlink{stack_8h_source_l00030}{Stack\+::size}}, \mbox{\hyperlink{stack_8h_source_l00164}{STK\+\_\+\+OK}}, \mbox{\hyperlink{stack_8cpp_source_l00080}{stk\+\_\+resize()}}, and \mbox{\hyperlink{stack_8h_source_l00159}{STK\+\_\+\+VERIFY}}.



Referenced by \mbox{\hyperlink{test_8cpp_source_l00047}{test\+\_\+stack\+\_\+error()}}, and \mbox{\hyperlink{test_8cpp_source_l00003}{test\+\_\+stack\+\_\+normal()}}.

\Hypertarget{stack_8h_a644b9030cb1c4f62fd11cdac43104e35}\label{stack_8h_a644b9030cb1c4f62fd11cdac43104e35} 
\index{stack.h@{stack.h}!stk\_resize@{stk\_resize}}
\index{stk\_resize@{stk\_resize}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{stk\_resize()}{stk\_resize()}}
{\footnotesize\ttfamily int stk\+\_\+resize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}}]{stk,  }\item[{ssize\+\_\+t}]{new\+\_\+size }\end{DoxyParamCaption})}



Resizes stack. 


\begin{DoxyParams}{Parameters}
{\em stk} & \\
\hline
{\em new\+\_\+size} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{stack_8cpp_source_l00080}{80}} of file \mbox{\hyperlink{stack_8cpp_source}{stack.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ assert(stk);}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{int}\ res\ =\ \mbox{\hyperlink{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}{STK\_VERIFY}}(stk);}
\DoxyCodeLine{00084\ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordflow}{if}\ (res\ !=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a146633a2ef2a9bbb1c05ec4cd31ba019}{OK}})}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}*\ tmp\ =\ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}};}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\#ifdef\ DEBUG}}
\DoxyCodeLine{00092\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ =\ (\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}*)\mbox{\hyperlink{macros_8h_a3e542cb9c488f76f1d0cb4b6ef234203}{recalloc}}((\textcolor{keywordtype}{void}*)((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}*)stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ -\/\ 1),}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}})\ +\ 1\ *\ \textcolor{keyword}{sizeof}(CANARY\_VAL),}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_size\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}})\ +\ 2\ *\ \textcolor{keyword}{sizeof}(CANARY\_VAL));}
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ \#ifndef\ DEBUG}}
\DoxyCodeLine{00096\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ =\ (\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}*)\mbox{\hyperlink{macros_8h_a3e542cb9c488f76f1d0cb4b6ef234203}{recalloc}}((\textcolor{keywordtype}{void}*)stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}},\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}),}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_size\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}));}
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \#ifdef\ DEBUG}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordflow}{if}\ (!stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}})\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ =\ tmp;}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a8e610fdd9bd4faa7ad35a6058ad9fcbf}{ALLOC\_ERR}};}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00106\ \ \ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \textcolor{preprocessor}{\#ifdef\ DEBUG}}
\DoxyCodeLine{00109\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ =\ (\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}*)((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}*)stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ +\ 1);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ memcpy(stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ +\ new\_size,\ \&CANARY\_VAL,\ \textcolor{keyword}{sizeof}(CANARY\_VAL));}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordflow}{for}\ (ssize\_t\ i\ =\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}};\ i\ <\ new\_size;\ i++)}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[i]\ =\ stk-\/>\mbox{\hyperlink{struct_stack_a48bbbcc55325f72dcbe2414dd9598a30}{POISON}};}
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \#ifdef\ DEBUG}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}\ =\ new\_size;}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ res\ |=\ \mbox{\hyperlink{stack_8h_a013fc56c5d16255530c4b0134dfeb8a6}{STK\_VERIFY}}(stk);}
\DoxyCodeLine{00120\ \ \ \ \ \mbox{\hyperlink{stack_8h_adfe306bbeb051d0e57c29ae2fcda4b3b}{STK\_OK}}(stk,\ res);}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00123\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{stack_8h_source_l00037}{Stack\+::\+ALLOC\+\_\+\+ERR}}, \mbox{\hyperlink{stack_8h_source_l00029}{Stack\+::capacity}}, \mbox{\hyperlink{stack_8h_source_l00028}{Stack\+::data}}, \mbox{\hyperlink{stack_8h_source_l00035}{Stack\+::\+OK}}, \mbox{\hyperlink{stack_8h_source_l00021}{Stack\+::\+POISON}}, \mbox{\hyperlink{macros_8h_source_l00015}{recalloc()}}, \mbox{\hyperlink{stack_8h_source_l00164}{STK\+\_\+\+OK}}, and \mbox{\hyperlink{stack_8h_source_l00159}{STK\+\_\+\+VERIFY}}.



Referenced by \mbox{\hyperlink{stack_8cpp_source_l00125}{stk\+\_\+push()}}.

\Hypertarget{stack_8h_aa5801fe77f92f99b324b972ee22ed326}\label{stack_8h_aa5801fe77f92f99b324b972ee22ed326} 
\index{stack.h@{stack.h}!stk\_verify@{stk\_verify}}
\index{stk\_verify@{stk\_verify}!stack.h@{stack.h}}
\doxysubsubsection{\texorpdfstring{stk\_verify()}{stk\_verify()}}
{\footnotesize\ttfamily int stk\+\_\+verify (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_stack}{Stack}} \texorpdfstring{$\ast$}{*}}]{stk }\end{DoxyParamCaption})}



Verifies stack. 


\begin{DoxyParams}{Parameters}
{\em stk} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int error code 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{stack_8cpp_source_l00270}{270}} of file \mbox{\hyperlink{stack_8cpp_source}{stack.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00271\ \ \ \ \ assert(stk);}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{keywordtype}{int}\ res\ =\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a146633a2ef2a9bbb1c05ec4cd31ba019}{OK}};}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}}\ ==\ stk-\/>\mbox{\hyperlink{struct_stack_a873889fbf0b397d1b5be02d19bef2b41}{INIT\_CAPACITY}}\ \&\&}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}\ ==\ stk-\/>\mbox{\hyperlink{struct_stack_a873889fbf0b397d1b5be02d19bef2b41}{INIT\_CAPACITY}}\ \&\&}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5ae1ec0912fd480f7fdd5f38f4e990ffed}{UNITIALISED}};}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00280\ \ \ \ \ \}}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{linux__mem_8cpp_a8b27c8c3ef75b12ce64ed810ab614d33}{is\_ptr\_valid}}(stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}},\ \textcolor{charliteral}{'w'}))}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5ab37ce957889466c726330c2b5b513b4f}{DATA\_INVALID\_PTR}};}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keywordflow}{for}\ (ssize\_t\ i\ =\ 0;\ i\ <\ stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}};\ i++)}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[i]\ ==\ stk-\/>\mbox{\hyperlink{struct_stack_a48bbbcc55325f72dcbe2414dd9598a30}{POISON}})\ \{}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5aa17ea00c21ef8ada8344e88a5d63a0de}{POISON\_VAL\_FOUND}};}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \ \ \ \ \textcolor{keywordflow}{for}\ (ssize\_t\ i\ =\ stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}};\ i\ <\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}};\ i++)}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}[i]\ !=\ stk-\/>\mbox{\hyperlink{struct_stack_a48bbbcc55325f72dcbe2414dd9598a30}{POISON}})\ \{}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a9e1e940df37869517f75f4d2198aebad}{NON\_POISON\_EMPTY}};}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \ \ \mbox{\hyperlink{struct_hash}{Hash}}\ checksum\ =\ \mbox{\hyperlink{hash_8cpp_af75afb4cf5b5d49cc48faec462d3fb8f}{hash\_init}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{config_8h_a080be3bdb852e7fe4ae09e67e3f7012c}{Elem\_t}}));}
\DoxyCodeLine{00298\ \ \ \ \ \mbox{\hyperlink{hash_8cpp_a04ea4d8f18562b872872470176e6de83}{hash\_create}}(\&checksum,\ stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}},\ stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}});}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_afb254e7cd7f3e17f483ef2866cc5b922}{checksum}}.\mbox{\hyperlink{struct_hash_a991c35ac9a3e92fb13a5ee7b1dbfd244}{hash}}\ !=\ checksum.\mbox{\hyperlink{struct_hash_a991c35ac9a3e92fb13a5ee7b1dbfd244}{hash}})}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a850f5a4a8e8d806c4d727d7611a23830}{CHECKSUM\_ERR}};}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}\ <\ stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}})}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a0a4d618cba92355bcf446359ec408e60}{LOW\_CAPACITY}};}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}\ <\ 0)}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5af68a03245ae05bdfca1879f027972e0c}{NEGATIVE\_CAPACITY}};}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a3b6cb0b4ff732c7bbbaaa5d3860bcd1a}{size}}\ <\ 0)}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5ad85f8db9f888d5f54791ec3dbe8dae1c}{NEGATIVE\_SIZE}};}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_a28842fa31d7aec7f839fbcd51ef3edfe}{canary\_left}}\ !=\ CANARY\_VAL)}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a7972d76b7f1e784ff89358e60e73f6c5}{STRUCT\_L\_CANARY\_ERR}};}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{keywordflow}{if}\ (stk-\/>\mbox{\hyperlink{struct_stack_af8349cc517cbeee8fc2a0177f17d5109}{canary\_right}}\ !=\ CANARY\_VAL)}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a8deedabd24b6f0684dbf7b7ee110bd21}{STRUCT\_R\_CANARY\_ERR}};}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keywordflow}{if}\ (((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}*)stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}})[-\/1]\ !=\ CANARY\_VAL)}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a972d0ae4ce1c7527212f6e29d78df8fe}{DATA\_L\_CANARY\_ERR}};}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{keywordflow}{if}\ (*((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ *)(stk-\/>\mbox{\hyperlink{struct_stack_a02ed96691b2e6636bd9155758e8ee8cd}{data}}\ +\ stk-\/>\mbox{\hyperlink{struct_stack_a2f2b41ebbf7c8adce40da902814e1c7b}{capacity}}))\ !=\ CANARY\_VAL)}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ res\ |=\ stk-\/>\mbox{\hyperlink{struct_stack_ae8242b5f1b2c3d98a6dbafc302e509d5a31325202b6e6bfa0cb1b1e0c0601bea5}{DATA\_R\_CANARY\_ERR}};}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00325\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{stack_8h_source_l00025}{Stack\+::canary\+\_\+left}}, \mbox{\hyperlink{stack_8h_source_l00058}{Stack\+::canary\+\_\+right}}, \mbox{\hyperlink{stack_8h_source_l00029}{Stack\+::capacity}}, \mbox{\hyperlink{stack_8h_source_l00032}{Stack\+::checksum}}, \mbox{\hyperlink{stack_8h_source_l00043}{Stack\+::\+CHECKSUM\+\_\+\+ERR}}, \mbox{\hyperlink{stack_8h_source_l00028}{Stack\+::data}}, \mbox{\hyperlink{stack_8h_source_l00040}{Stack\+::\+DATA\+\_\+\+INVALID\+\_\+\+PTR}}, \mbox{\hyperlink{stack_8h_source_l00049}{Stack\+::\+DATA\+\_\+\+L\+\_\+\+CANARY\+\_\+\+ERR}}, \mbox{\hyperlink{stack_8h_source_l00050}{Stack\+::\+DATA\+\_\+\+R\+\_\+\+CANARY\+\_\+\+ERR}}, \mbox{\hyperlink{hash_8h_source_l00015}{Hash\+::hash}}, \mbox{\hyperlink{hash_8cpp_source_l00016}{hash\+\_\+create()}}, \mbox{\hyperlink{hash_8cpp_source_l00003}{hash\+\_\+init()}}, \mbox{\hyperlink{stack_8h_source_l00020}{Stack\+::\+INIT\+\_\+\+CAPACITY}}, \mbox{\hyperlink{linux__mem_8cpp_source_l00003}{is\+\_\+ptr\+\_\+valid()}}, \mbox{\hyperlink{stack_8h_source_l00044}{Stack\+::\+LOW\+\_\+\+CAPACITY}}, \mbox{\hyperlink{stack_8h_source_l00045}{Stack\+::\+NEGATIVE\+\_\+\+CAPACITY}}, \mbox{\hyperlink{stack_8h_source_l00046}{Stack\+::\+NEGATIVE\+\_\+\+SIZE}}, \mbox{\hyperlink{stack_8h_source_l00042}{Stack\+::\+NON\+\_\+\+POISON\+\_\+\+EMPTY}}, \mbox{\hyperlink{stack_8h_source_l00035}{Stack\+::\+OK}}, \mbox{\hyperlink{stack_8h_source_l00021}{Stack\+::\+POISON}}, \mbox{\hyperlink{stack_8h_source_l00041}{Stack\+::\+POISON\+\_\+\+VAL\+\_\+\+FOUND}}, \mbox{\hyperlink{stack_8h_source_l00030}{Stack\+::size}}, \mbox{\hyperlink{stack_8h_source_l00047}{Stack\+::\+STRUCT\+\_\+\+L\+\_\+\+CANARY\+\_\+\+ERR}}, \mbox{\hyperlink{stack_8h_source_l00048}{Stack\+::\+STRUCT\+\_\+\+R\+\_\+\+CANARY\+\_\+\+ERR}}, and \mbox{\hyperlink{stack_8h_source_l00039}{Stack\+::\+UNITIALISED}}.

